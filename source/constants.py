import numpy

SCREEN_W, SCREEN_H = 1280, 720
SCREEN_SIZE = (SCREEN_W, SCREEN_H)
SCREEN_COLOR = (230, 230, 230)
CELL_COLOR = [(210, 210, 210), (190, 190, 190)]
WALL_COLOR = (80, 80, 80)
BLACK = (0, 0, 0)
RED = (255, 0, 0)
BLUE = (0, 0, 255)
PURPLE = (255, 0, 255)
YELLOW = (255, 255, 0)
GREEN = (0, 255, 0)
WHITE = (255, 255, 255)
GRAY = (130, 130, 130)
DARK_GRAY = (100, 100, 100)
FRAME_RATE = 144
CURSOR_MULTI = 1.5
PLAYER_MULTI = 1.0
PLAYER_PX = 41
PLAYER_PY = 27
ROUND_PX = 9
ROUND_PY = 9
MOTION_CALC_SCALE = 100
MPX = MOTION_CALC_SCALE*PLAYER_PX
MPY = MOTION_CALC_SCALE*PLAYER_PY
ROUND_COLLITION_EPS = 6
WALL_SIZE = 8
LOAD_TIME = 1000
# `TOP_SPACE` and `LEFT_SPACE` will be computed after `BLOCK_SIZE` below
TOP_SPACE = None
LEFT_SPACE = None
PI = numpy.arccos(-1)
FONT = 'Fixedsys.ttf'
PLAYER1_X, PLAYER1_Y = 250, 290
BASE_ROUND_V = 350.0/FRAME_RATE*60
BASE_MOVE_V = 255.0/FRAME_RATE*60
BASE_TURN_W = 1.0/5.8/PI/FRAME_RATE*60
BACKWARD_V = 0.83*BASE_MOVE_V
GRAVI_ACC = 4/FRAME_RATE*60
ENDING_TIME = 3000
CELEBRATING_TIME = 2000
SUPPLY_TIME = 10000
MAX_ROUND_TIME = 11000
MAX_ROUND_NUM = 15
FIRE_TICK = 110
FIRE_COOL_DOWN = 220
# 为了加速 RL 训练，默认使用更小更简单的地图设置
# 如果需要恢复原始大小，可在运行时覆盖或修改为更大值
COLUMN_NUM = 6
ROW_NUM = 4
# 目标让地图占屏幕的大约 80%（宽/高方向同时考虑），保持格子布局不变
_TARGET_RATIO = 0.8
BLOCK_SIZE = int(min(_TARGET_RATIO * SCREEN_W / COLUMN_NUM,
					 _TARGET_RATIO * SCREEN_H / ROW_NUM))

# 根据 BLOCK_SIZE 居中地图
LEFT_SPACE = int((SCREEN_W - COLUMN_NUM * BLOCK_SIZE) / 2)
# 向上微调地图以避免遮挡底部文字
MAP_TOP_SHIFT = 40
TOP_SPACE = max(0, int((SCREEN_H - ROW_NUM * BLOCK_SIZE) / 2) - MAP_TOP_SHIFT)
TOP, BOTTOM, LEFT, RIGHT = 1, 2, 4, 8
LEVEL, VERTICAL = 0, 1